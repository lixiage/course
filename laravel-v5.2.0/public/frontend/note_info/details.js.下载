define(function(require){require("lib/pretty/prettify.js"),require("lib/pretty/prettify.css"),require("/static/lib/ueditor/ueditor.parse.js"),require("/static/lib/layer/1.6.0/layer.min.js"),require("/static/lib/layer/1.6.0/skin/layer.css"),require("/static/lib/ueditor/themes/imooc/css/ueditor.css"),require("/static/page/article/addCopy.js"),require("/static/page/article/imgPreview.js");var Cookie=(require("/static/page/article/praise.js"),require("/static/component/base/util/cookie.js")),verifyCode=require("../common/verify-code.js"),_freeHost="//img.mukewang.com";prettyPrint&&prettyPrint();var _replyFlag,_submiToffTop=$(".df-title").offset().top+$(".df-ipt-wrap").height(),parsingLag=function(){uParse("body",{rootPath:"/static/component/base/ueditor/",chartContainerHeight:500})},util={msg:function(a,c){var h=$(this).closest(".js-msg-context"),m=a?"addClass":"removeClass",g=c?"qa-tips-ok":"qa-tips-error";h.find(".qa-tips").removeClass("qa-tips-ok qa-tips-error")[m](g).html(a||"")},error:function(a,c){arguments.length<2&&(c=a,a=$(this).next(".errortip")),c?$(a).html(c):$(a).empty()}},showPraiseUser=function(){$.ajax({url:"/article/getupvoteusers?id="+pageInfo.id,type:"get",dataType:"json",success:function(a){if(1===a.result){var c=a.data;if(0==c.length)$(".show-praise-wrap").css({opacity:"0",height:"0px","margin-bottom":"0px"});else for(var i=0;i<c.length;i++)$("#js-praise-show").append('<li class="l"><a target="_blank" href="/u/'+c[i].uid+'/articles">                                                <img src="'+c[i].img+'" title="'+c[i].nickname+'"/>                                                </a></li>')}},complete:function(){}})};showPraiseUser();var showAuthors=function(){$.ajax({url:"/article/getuser?uid="+authorUid.uid,type:"get",dataType:"json",success:function(a){0===a.result&&($(".article-num").find("span").text(a.data.article),$(".article-recom").find("span").text(a.data.support))},complete:function(){}})};showAuthors();var loadRelateRead=function(){$.ajax({url:"/article/getsimilar",type:"get",dataType:"json",data:{id:pageInfo.id},success:function(a){if(0===a.result){var c=a.data;if(0!=c.length){$(".react-article").find("ul").before('<h2 class="clearfix"><span class="l">相关阅读</span><div class="line-r l"></div></h2>');for(var i=0;i<c.length;i++){var h=$(".react-article").find("ul");h.append('<li><a href="/article/'+c[i].id+'" title="'+c[i].title+'"><h3>'+c[i].title+"</h3></a></li>")}}}}})};if(loadRelateRead(),1==isLogin){{var opts={initialFrameHeight:100,initialFrameWidth:"auto"},cueditor=UE.getEditor("js-reply-editor-box",opts);$(".pop-tips-layer")}cueditor.addListener("focus",function(){util.msg.call($("#js-reply-editor-box"))})}$("#js-submit").click(function(e){e.preventDefault();var a,c,h=$(this);if(!h.hasClass("loading")){if(c=$.trim(UE.getEditor("js-reply-editor-box").getContent()),a=UE.getEditor("js-reply-editor-box").getContentLength(!0),10>a)return void $("#feed-error").text("评论字数不能少于10个字！");if(a>1e3)return void $("#feed-error").text("评论字数不能超过1000个字！");$("#feed-error").text("");var g={};if(g.article_id=pageInfo.id,g.content=c,0!==$(this).parent().find(".verify-code-ipt").length){var v=$.trim(verifyCode.getResult(".verify-code"));if(0==v.length)return void $(".verify-code").trigger("fail","请输入验证码");g.verify=v}h.addClass("loading").text("正在提交..."),$(".verify-code").trigger("succ","请输入验证码"),$.ajax({url:"/article/ajaxpostcomment",type:"post",dataType:"json",data:g,success:function(a){if(0===a.result){a.data.user={uid:OP_CONFIG.userInfo.uid,nickname:OP_CONFIG.userInfo.nickname,img:OP_CONFIG.userInfo.head},display(getHTML(a.data),1),$("#feedback-area").val(""),$("#feed-error").html('<span style="color:#090;">评论成功</span>'),$(".verify-code").html(""),UE.getEditor("js-reply-editor-box").setContent(" ");var c=parseInt($(".df-title .comment-num").find("i").text());return $(".df-title .comment-num").find("i").text(c+1),$("html body").animate({scrollTop:_submiToffTop},300),void setTimeout(function(){$("#feed-error").text("")},2e3)}1===a.data&&-1===a.result?verifyCode.renderVerifyCodeBlock(".df-bottom .verify-code","/article/getarticlecommentcode"):-103002==a.result?($(".verify-code").trigger("fail",a.msg),setTimeout(function(){verifyCode.renderVerifyCodeBlock(".df-bottom .verify-code","/article/getarticlecommentcode")},2e3)):$("#feed-error").html(a.msg)},complete:function(){h.removeClass("loading").text("评论（Ctrl+Enter）"),parsingLag()}})}}),1==isLogin&&(cueditor.addListener("keydown",function(a,c){13==c.keyCode&&c.ctrlKey&&$("#js-submit").trigger("click")}),$(".verify-code input").on("keydown",function(a){a.ctrlKey&&13==a.keyCode&&$("#js-submit").trigger("click")}));var loadFeedback=function(a){a=a||1,$.ajax({url:"/article/ajaxcomment",type:"post",dataType:"json",data:{page:a,article_id:pageInfo.id},success:function(c){var h,g=parseInt(c.data.num%20),v=parseInt(c.data.num/20);if(h=g>0?v+1:v,0===c.result)if(c=c.data,$(".df-title .comment-num i").html(c.num),0==c.num)$("#js-feedback-list-wrap").html('<p class="feedback-none">暂无评论</p>'),$("#js-feedback-hot-list-wrap").hide(),$(".hot-df-title").hide();else{if(curPage=parseInt(a),1==curPage&&(0==c.hotcomments.length?($("#js-feedback-hot-list-wrap").hide(),$(".hot-df-title").hide()):($(".hot-df-title").show(),$("#js-feedback-hot-list-wrap").show(),displayHotList(c.hotcomments),$("#js-feedback-hot-list-wrap .reply-btn").hide())),displayList(c.data),prePage=curPage-1,nextPage=curPage+1,0>=prePage&&(prePage=1),nextPage>h&&(nextPage=h),h>1){var y=$(".qa-comment-page");y.append('<a href="javascript:void(0)" class="first" data-page="1">首页</a>','<a href="javascript:void(0)" class="pre" data-page="'+prePage+'">上一页</a>');for(var i=1;h>=i;i++)y.append('<a href="javascript:void(0)"  id="page_num" data-page="'+i+'">'+i+"</a>");y.append('<a href="javascript:void(0)"  class="next" data-page="'+nextPage+'">下一页</a>                                <a href="javascript:void(0)"  class="last" data-page="'+h+'">尾页</a>')}else $(".qa-comment-page").hide();for(var b=$(".qa-comment-page #page_num"),j=0;j<b.length;j++)if($(b[j]).attr("data-page")==a)if($(b[j]).addClass("active"),0==j?$(".qa-comment-page .first,.qa-comment-page .pre").addClass("disabled_page"):j==parseInt(h-1)&&$(".qa-comment-page .last,.qa-comment-page .next").addClass("disabled_page"),j>3){for(var i=0;j+1>i;i++)j-3>i&&$(b[i]).hide();for(var s=j+4;s<b.length;s++)$(b[s]).hide()}else if(b.length>7)for(var m=7;m<b.length;m++)$(b[m]).hide()}},complete:function(){parsingLag(),initEvent(),""==$(".reply-box").html()&&$(this).css("padding-top","25px")}})},displayList=function(a){for(var s="",i=0,c=a.length;c>i;i++)s+=getHTML(a[i]);display(s)},displayHotList=function(a){for(var s="",i=0,c=a.length;c>i;i++)s+=getHTMLs(a[i]);displays(s)},display=function(a,c){var h=$("#js-feedback-list");h.length||($("#js-feedback-list-wrap .feedback-loading,#js-feedback-list-wrap .feedback-none").remove(),h=$('<div id="js-feedback-list"></div>').appendTo($("#js-feedback-list-wrap"))),h[c?"prepend":"append"](a)},displays=function(a,c){var h=$("#js-feedback-hot-list");h.length||($("#js-feedback-hot-list-wrap .feedback-loading,#js-feedback-hot-list-wrap .feedback-none").remove(),h=$('<div id="js-feedback-hot-list"></div>').appendTo($("#js-feedback-hot-list-wrap"))),h[c?"prepend":"append"](a)},getComment=function(a){var c,h="",g="",v="";return c=a.upvoted?1==a.upvoted?'<span class="agree-with active l" data-commentid='+a.id+" data-uid="+a.uid+" data-username="+a.nickname+'><b class="imv2-thumb_up active-t-up"  title="已赞同"></b><em>'+a.support_num+"</em></span>":'<span class="agree-with l" data-commentid='+a.id+" data-uid="+a.uid+" data-username="+a.nickname+'><b class="imv2-thumb_up"  title="赞同"></b><em>'+a.support_num+"</em></span>":'<span class="agree-with l" data-commentid='+a.id+" data-uid="+a.uid+" data-username="+a.nickname+'><b class="imv2-thumb_up" title="赞同"></b><em>'+a.support_num+"</em></span>",1==a.mustar_switch&&(h='<i class="user-icon ismooc" title="慕星人"></i>'),1==a.is_author&&(g='<i class="user-icon great" title="认证作者"></i>'),2==a.user_type&&(v='<i class="user-icon teacher" title="慕课网讲师"></i>'),['<div class="comment clearfix">','<div class="feed-author l">','<a href="/u/',a.uid,'/articles" >','<img src="',a.img,'" width="48" >',"</a>",'<a class="nick" href="/u/',a.uid,'/articles" target="_blank">',a.nickname,"</a>",v,g,h,'<span class="com-floor r">',a.floor_num,"F</span>","</div>",'<div class="feed-list-content">',"<p>",a.content,"</p>",'<div class="comment-footer clearfix">',c,'<span class="reply-btn" data-commentid=',a.id," data-uid=",a.uid," data-username=",a.nickname,">回复","</span>",'<span class="feed-list-times r"> ',a.create_time,"</span>","</div>","</div>","</div>"].join("")},getReply=function(a){var c=function(a,c,h,g){return 0==_replyFlag?['<a href="/u/',a,'/articles" class="from-user">',h,"</a>："].join(""):a==c?['<a href="/u/',a,'/articles" class="from-user">',h,"</a>："].join(""):['<a href="/u/',a,'/articles" class="from-user">',h,"</a> 回复 ",'<a href="/u/',c,'/articles" class="to-user">',g,"</a>："].join("")};return['<div class="comment clearfix">','<div class="feed-author l">','<a href="/u/',a.from_uid,'/articles" >','<img src="',a.img,'" width="48" >',"</a>","</div>",'<div class="feed-list-content">',c(a.from_uid,a.to_uid,a.from_username,a.to_username),"<p>",a.description,"</p>",'<div class="comment-footer clearfix">','<span class="reply-btn reply-btns"'," data-commentid=",a.reply_id," data-uid=",a.from_uid," data-username=",a.from_username,">回复","</span>",'<span class="feed-list-time r"> ',a.create_time,"</span>","</div>","</div>","</div>"].join("")},getAllReply=function(a){var c="";if(a&&a.length)for(var i=0;i<a.length;i++)c+=getReply(a[i]);return c},renderReleaseReply=function(a,c){return['<div class="release-reply">','<a href="/u/',a.uid,'/articles" class="user-head">','<img src="',a.img,'" alt="',a.nickname,'"/>',"</a>",'<a href="/u/',a.uid,'/articles" class="nick">',a.nickname,"</a>",'<div class="replay-con">','<div class="textarea-wrap">','<textarea placeholder="写下你的回复..."></textarea>',"</div>",'<p class="errtip"></p>','<div class="reply-ctrl clearfix">','<div class="verify-code"></div>','<div class="btn-wrap">','<div class="cancel-btn">取消</div>','<div data-comment-uid="',c,'" class="release-reply-btn">回复</div>',"</div>","</div>","</div>","</div>"].join("")},getMoreReply=function(a,c){return!a||1>a?"":['<div class="getMoreReply" data-replyid=',c,">点击展开后面","<span>",a,"</span>条回复","</div>"].join("")},getReplyBox=function(a,c,h){var g=0;return c&&(g=parseInt(c)-3),c?$(".reply-box").hide():$(".reply-box").show(),['<div class="reply-box">',getAllReply(a),getMoreReply(g,h),"</div>"].join("")},getHTML=function(o){return['<div class="comment-box">',getComment(o,!0),getReplyBox(o.replys,o.comment_num,o.id),renderReleaseReply(user,o.uid),"</div>"].join("")},getHTMLs=function(o){return['<div class="comment-box">',getComment(o,!0),"</div>"].join("")};loadFeedback();var initEvent=function(){var a={};a.reply_id=null,a.from_uid=null;var c=function(a,c){var h=$(window).height(),g=a.height(),v=a.offset().top,y=(h-g)/2;$("html,body").animate({scrollTop:v-y+"px"},c,"swing")};$(".replay-con textarea").on("succ",function(){$(this).parent().parent().find("p.errtip").text("")}).on("fail",function(e,a){$(this).parent().parent().find("p.errtip").text(a)}),$("#js-feedback-list-wrap").delegate(".reply-btn","click",function(){var h=$(this).parents(".comment-box"),g=$(this).attr("data-username");return isLogin?(h.find(".release-reply").fadeIn(),$(this).hasClass("reply-btns")?(_replyFlag=1,h.find("textarea").focus().val("回复 "+g+"：").attr("touser","回复 "+g+"：")):_replyFlag=0,a.reply_id=$(this).attr("data-commentid"),a.from_uid=$(this).attr("data-uid"),h.siblings(".comment-box").find(".cancel-btn").click(),void c(h.find(".release-reply"),300)):void $("#js-signin-btn").click()}),$("#js-feedback-list-wrap").delegate(".cancel-btn","click",function(){var a=$(this).parents(".release-reply");a.find("textarea").trigger("succ").val(""),a.find(".verify-code").trigger("succ").html(""),a.css("display","none")}),$("#js-feedback-list-wrap").delegate(".release-reply-btn","click",function(e){var c=$(e.target),h=$(this);if(c.hasClass("release-reply-btn")){var g=h.parents(".comment-box").find(".replay-con"),v=h.parents(".comment-box").find(".reply-box"),y=h.parents(".comment-box").find("textarea"),b=(v.find(".getMoreReply").length>0?!0:!1,y.val());b=$.trim(b);var j=/^回复\s*\S+：/;if(j.test(b)?b=b.replace(j,""):a.from_uid=$.trim(c.attr("data-comment-uid")),b.length<3)return void g.find("textarea").trigger("fail","回复内容不得少于3个字");if(b.length>300)return void g.find("textarea").trigger("fail","回复内容不得多于300");g.find("textarea").trigger("succ"),$(".errtip").html("");var k={};if(k.reply_id=a.reply_id,k.from_uid=a.from_uid,k.description=b,0!==g.find(".verify-code-ipt").length){var C=$.trim(verifyCode.getResult(g.find(".verify-code")));if(0==C.length)return void g.find(".verify-code").trigger("fail","请输入验证码");k.verify_code=C}c.addClass("disabled").html("回复..."),$.ajax({url:"/article/savereplycomment",data:k,type:"post",dataType:"json",success:function(a){if(0==a.result){var c=getReply(a.data),h=v.find(".comment").length;if(3>h)v.append(c);else{var $=v.find(".getMoreReply").length>0?!0:!1;$||v.append(c);var y=parseInt(v.find(".getMoreReply span").text());v.find(".getMoreReply span").text(y+1)}g.find(".cancel-btn").click()}else{if(-1==a.result&&1==a.data)return void verifyCode.renderVerifyCodeBlock(g.find(".verify-code"),"/article/getverifycode");-103002==a.result?g.find(".verify-code").trigger("fail","验证码错误"):g.find(".verify-code").trigger("succ")}},complete:function(){c.removeClass("disabled").html("回复")}})}}),$(".comment-box").on("click",function(e){var a=$(e.target);if(a.hasClass("getMoreReply")&&!a.hasClass("disabled")){var c=$(this).find(".reply-box"),h=$(e.target).attr("data-replyid");a.addClass("disabled").html("请稍等...");var g={};g.reply_id=h,g.page=2,$.ajax({url:"/article/getcomment",data:g,type:"post",dataType:"json",success:function(h){if(0==h.result){for(var g=h.data,v="",i=0;i<g.length;i++)v+=getReply(g[i]);a.remove(),c.append(v)}else a.remove()},complete:function(){}})}})};$(".qa-comment-page").on("click","a",function(){if($(this).hasClass("disabled_page"))return!1;$(".hot-df-title").hide(),$("#js-feedback-hot-list-wrap").html(""),$("#js-feedback-list").html(" "),$(".qa-comment-page").html(" ");var a=$(".df-title").offset().top;$("html body").animate({scrollTop:a},600),loadFeedback($(this).attr("data-page"))}),$(".praise-box").click(function(){if(!OP_CONFIG.userInfo)return void seajs.use("login_sns",function(a){a.init()});var a=$(this).find("span"),p=a.hasClass("praised");$("#js-praise").hasClass("loading")||($("#js-praise").addClass("loading"),$.ajax({url:"/article/ajaxupvote",type:"post",dataType:"json",data:{article_id:pageInfo.id},success:function(c){if(0===c.result&&!p){a.find("span").addClass("praised"),$(".show-praise-wrap").css({opacity:"1",height:"30px","margin-bottom":"30px"});var h=$(".show-praise-wrap .praise-num").find(".num"),g=parseInt(pageInfo.praiseNum);g+=1,h.html(g),$("#js-praise-show").prepend('<li class="l"><a target="_blank" href="/u/'+user.uid+'/articles">                                                <img src="'+user.img+'" title="'+user.nickname+'"/>                                                </a></li>')}},complete:function(){$("#js-praise").removeClass("loading")}}))}),$("#js-follow").click(function(){if(!OP_CONFIG.userInfo)return void seajs.use("login_sns",function(a){a.init()});var a=$(this),p=a.hasClass("active-star");a.hasClass("loading")||(a.addClass("loading"),$.ajax({url:p?"/article/ajaxdelcollect":"/article/ajaxcollect",type:"post",dataType:"json",data:{article_id:pageInfo.id},success:function(c){0===c.result?(a[p?"removeClass":"addClass"]("active-star"),a.next("span").text(p?"收藏":"已收藏")):$.prompt(c.msg,{icon:"error"})},complete:function(){a.removeClass("loading")}}))}),$(".detail-feedback-wrap").delegate(".agree-with","click",function(){if(!isLogin)return void $("#js-signin-btn").click();var a=$(this).attr("data-commentid"),c=$(this),h=c.hasClass("active");c.hasClass("loading")||(c.addClass("loading"),$.ajax({url:"/article/ajaxupvotecomment",type:"post",dataType:"json",data:{comment_id:a},success:function(a){if(0==a.result&&!h){c.addClass("active");var g=c.find("em"),v=parseInt(g.text());v+=1,g.text(v),c.find("b").addClass(h?"":"active-t-up").attr("title",h?"赞同":"已赞同")}},complete:function(){}}))});var articlename=$.trim($(".detail-title .d-t").text()),imgPic=$("#js-share-img").attr("data-pic"),upic=$("#js-img-author").attr("data-pic"),isOriN=$.trim($(".detail-title span.type").text()),isOri=isOriN?isOriN+"_":"";with(title="分享："+articlename+"@慕课网 "+isOri+"慕课网_手记",link="https://www.imooc.com"+window.location.pathname,$.trim(imgPic)||(imgPic=upic),-1==imgPic.indexOf(".jpg")&&(imgPic="https://img.mukewang.com/"+imgPic+".jpg"),window._bd_share_config={common:{bdUrl:link,bdSnsKey:{tsina:"2788596354"},bdText:title,bdMini:"2",bdMiniList:!1,bdPic:imgPic,bdStyle:"0",bdSize:"16",searchPic:""},share:{}},document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="/static/lib/baiduShare/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date/36e5)];shareFrame=$(".js-share-statue"),setTimeout(function(){shareFrame.hide()},5e3);var timer,shareEles=$(".bdsharebuttonbox a.share-icon,.share-list a.share-icon"),sendId=pageInfo.id,ajaxing=0,interval=1;shareEles.on("click",function(e){ajaxing||(ajaxing=1,shareFrame.hide(),$.ajax({type:"post",url:"/course/courseshare",data:"id="+sendId+"&type=5",success:function(){ajaxing=0},error:function(){layer.msg("网络错误，请稍后再试",1,1)},complete:function(){isAjax=0}}),e.preventDefault())}).mouseenter(function(){shareFrame.show()}).mouseleave(function(){timer&&clearTimeout(timer),timer=setTimeout(function(){shareFrame.hide()},interval)});var directory={init:function(){$("#article_directory")[0]&&this.event()},directory$:$(".directory"),top:$(".detail-right").offset().top+$(".detail-right").outerHeight(),bottom:$(".detail-content-wrap").offset().top+$(".detail-content-wrap").outerHeight(),anchor:$("#article_directory").find(".dire"),event:function(){var a=this,c=$(".detail-right").offset().top+$(".detail-right").outerHeight();a.top=c-$(".article_directory").outerHeight(),$(document).off("scroll").on("scroll",function(){var c=$(window).scrollTop();a.follow(c),a._scroll(c)})},follow:function(a){var c=$(".detail-left").offset().left,h=$(".detail-left").width(),g=c+h+49+"px";$("#article_directory").css(a>=this.top&&a<=this.bottom?{position:"fixed",top:"5px",left:g}:{position:"relative",top:"0px",left:"0px"})},_scroll:function(a){var c=this,h=(this.directory$.find(".title-link"),$(".anchor-list"));h.each(function(){var h=$(this).children("a"),g=h.attr("name");h.offset().top-20<=a&&c.anchor.each(function(){if($(this).find(".title-link").attr("href").substr(1)==g){{this.tagName}$(".dire-list li").removeClass("active"),$(this).addClass("active")}})})}};$("#article_directory")[0]&&(directory.init(),$(".dire-list").on("click","li",function(){$(this).addClass("active").siblings().removeClass("active")})),$(document).mouseup(function(e){var a=$("#bdshare_weixin_qrcode_dialog");a.is(e.target)||0!=a.has(e.target).length||(a.hide().remove(),$("#bdshare_weixin_qrcode_dialog_bg").attr("display","none").remove())}),$("#js-text-login").click(function(){return OP_CONFIG.userInfo?void 0:void seajs.use("login_sns",function(a){a.init()})});var topWNode=".top-bg-warp";$(".font-info",topWNode).hover(function(){$(this).addClass("active-font"),$(this).find(".font-box-s").removeClass("hide")},function(){$(this).removeClass("active-font"),$(this).find(".font-box-s").addClass("hide")});var loadRecommendSp=function(){var a=".recommend-list";$("li",a).hover(function(){$("li",a).each(function(){$(this).removeClass("show-more").addClass("show-line")}),$(this).addClass("show-more")},function(){})};$(window).on("scroll",function(){var a=$(this).scrollTop(),c=291;a>=c?$(".active-box").addClass("active-fixed").removeClass("hide"):$(".active-box").removeClass("active-fixed").addClass("hide")});var loadCodingOrFree=function(a,c){var h=pageInfo.id||"";$.ajax({type:"get",url:a,dataType:"json",data:{id:h},success:function(a){var h;0==a.result&&(h=a.data,c&&c(h))},error:function(){layer.msg("网络错误，请稍后再试",1,8)}})};loadCodingOrFree("/article/getszcourse",function(d){var a=".recommend-list ul",c="",h="http://coding.imooc.com/class/",g="",v="";return d?($.each(d,function(i,a){g=0==i?"show-more":"show-line";var $=i+1;4>i&&"undefined"!=typeof a.channelurl&&(v=a.channelurl),c+='<li class="clearfix '+g+'">    <a target="_blank" data-track="sztuijian-1-'+$+'" href="'+h+a.id+".html"+v+'">       <div class="r-left l" style="background-image:url('+a.pic+')">        <div class="bg-all"></div>    </div></a>    <div class="r-right l">        <a target="_blank" data-track="sztuijian-1-'+$+'" href="'+h+a.id+".html"+v+'"><h3>'+a.name+'</h3></a>        <p class="r-desc">'+a.short_description+'        </p>        <p class="r-p">'+a.numbers+" 人在学        </p>    </div></li> "}),$(a).html(c),loadRecommendSp(),void(directory&&directory.init())):($(".recommend-list").addClass("hide"),!1)}),loadCodingOrFree("/article/getfreecourse",function(d){var a=".course-recommend ul",c="",h=".course-recommend h2",g="相关推荐课程",v=1,y="//www.imooc.com/learn/";return d?($.each(d,function(i,a){c+='<li class="clearfix show-more">    <a target="_blank" data-track="kctuijian-1-'+v+'"  href="'+y+a.id+'">       <div class="r-left l" style="background-image:url('+_freeHost+"/"+a.pic+'.jpg)">        <div class="bg-all"></div>    </div></a>    <div class="r-right l">        <a target="_blank" data-track="kctuijian-1-'+v+'"  href="'+y+a.id+'"><h3>'+a.name+'</h3></a>        <p class="r-desc">'+a.short_description||'        </p>        <p class="r-p">'+a.numbers+" 人在学        </p>    </div></li> ",v++}),$(h).html(g),$(a).html(c),$(".course-recommend").removeClass("hide"),void(directory&&directory.init())):($(".course-recommend").addClass("hide"),!1)}),$("li",".font-box-s").on("click",function(){var a=$(this).data("size-f"),c=$(".size-show",".font-warp");$("li",".font-box-s").removeClass("s-font"),$(this).addClass("s-font"),$(".font-box-s").addClass("hide"),$(".detail-content").removeClass("big-size-f").removeClass("sm-size-f").removeClass("md-size-f"),$(".detail-content").addClass(a),Cookie&&Cookie.set("article-font-set",a,30),a&&-1!=a.indexOf("sm")&&c.text("小字号"),a&&-1!=a.indexOf("md")&&c.text("中字号"),a&&-1!=a.indexOf("big")&&c.text("大字号")});var loadingFontSize=function(){var a,c;c=$(".size-show",".font-warp"),a=Cookie&&Cookie.get("article-font-set"),$("li",".font-box-s").removeClass("s-font"),(a&&-1!=a.indexOf("sm")||!a)&&c.text("小字号"),a&&-1!=a.indexOf("md")&&c.text("中字号"),a&&-1!=a.indexOf("big")&&c.text("大字号"),$("li[data-size-f='"+a+"']",".font-box-s").addClass("s-font")};loadingFontSize()});